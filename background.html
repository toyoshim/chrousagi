<!DOCTYPE html>
<html lang="ja"><head>
    <script src="twitter.js"></script>
    <script src="diary.js"></script>
    <script>
        var diary = new Diary();
        function pollingDiary () {
            try {
                diary.Check(function (args) {
                    // Check once per ten minute.
                    setTimeout(pollingDiary, 1000 * 60 * 10);
                });
            } catch (e) {
                // Check once per hour.
                setTimeout(pollingDiary, 1000 * 60 * 60);
            }
        }
        pollingDiary();

        var twitter = new Twitter();
        function pollingTwitter () {
            try {
                twitter.Check(function (args) {
                    // Check once per minute.
                    setTimeout(pollingTwitter, 1000 * 60);
                });
            } catch (e) {
                // Check once per ten minute.
                setTimeout(pollingTwitter, 1000 * 60 * 10);
            }
        }
        pollingTwitter();
    </script>
</head></html>
